<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>Redirecting...</title>
  <script>
  window.onload = function () {
    // 目標頁面
    const target = "https://www.vitura.com.tw/zh-TW/products/limmunec_capsule";
    
    // 獲取 URL 中的 UTM 參數
    function getURLParameter(name) {
      var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
      return results ? decodeURIComponent(results[1]) : '';
    }

    // 抓取原始 URL 中的 UTM 參數
    const utmSource = getURLParameter('utm_source');
    const utmCampaign = getURLParameter('utm_campaign');
    const utmMedium = getURLParameter('utm_medium');
    const adMedia = getURLParameter('adMedia');
    const adCode = getURLParameter('adCode');

    // 設定最終跳轉 URL
    let finalURL = target;
    const params = [];

    // 如果抓到 UTM 參數，將它們添加到最終 URL
    if (utmSource) params.push("utm_source=" + utmSource);
    if (utmCampaign) params.push("utm_campaign=" + utmCampaign);
    if (utmMedium) params.push("utm_medium=" + utmMedium);
    if (adMedia) params.push("adMedia=" + adMedia);
    if (adCode) params.push("adCode=" + adCode);

    // 如果有 UTM 參數，將它們加到最終 URL
    if (params.length > 0) {
      finalURL += "?" + params.join("&");
    }

    // 重定向到最終 URL
    window.location.href = finalURL;
  }
  </script>
</head>
<body>
  <p>正在跳轉到商品頁，請稍候…</p>
</body>
</html>
